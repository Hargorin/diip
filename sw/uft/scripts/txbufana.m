clear; close all; 
%%
% Mac
x = [
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
36893488147419103232.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 36893488147419103232.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
121781528.000, 121517064.000, 121932344.000, 121223600.000, 123701376.000, 126019912.000, 126547864.000, 123607304.000, 125181840.000, 126288784.000, 123300704.000, 126505648.000, 123961936.000, 125235424.000, 122674400.000, 121180560.000, 124850640.000, 122921792.000, 122655296.000, 126301248.000, 126013712.000, 122775888.000, 126040080.000, 121489672.000, 125920736.000, 121942504.000, 125266072.000, 122319776.000, 125602560.000, 122327080.000, 121100312.000, 125212456.000, 123827032.000, 125192560.000, 122273040.000, 124086616.000, 124984744.000, 122168008.000, 122287640.000, 125258408.000, 123704368.000, 123416616.000, 122678808.000, 125393384.000, 123550632.000, 126077320.000, 122026792.000, 124483344.000, 121117496.000, 121618088.000, 122115560.000, 123242824.000, 122351928.000, 125292120.000, 122637664.000, 122700856.000, 121517064.000, 121855440.000, 121153320.000, 124237168.000, 123601336.000, 122562808.000, 125985800.000, 126535352.000, 123833016.000, 123919936.000, 123143528.000, 121616648.000, 126284112.000, 121704816.000, 126646464.000, 124073088.000, 80121432.000, 124592400.000, 122404584.000, 126546296.000, 122318312.000, 123702872.000, 123807568.000, 122849536.000, 121065944.000, 124745696.000, 126516592.000, 123236896.000, 126304360.000, 124601496.000, 122548136.000, 125854184.000, 123210200.000, 122781776.000, 125039688.000, 122103904.000, 122665584.000, 125817072.000, 121260928.000, 124849120.000, 124783704.000, 124499992.000, 125161952.000, 125359616.000, ;
81592976.000, 124460648.000, 121569000.000, 122057336.000, 125948608.000, 124680384.000, 124474264.000, 121283904.000, 125447152.000, 124327672.000, 124262800.000, 124636376.000, 122016608.000, 125868112.000, 124871960.000, 126366712.000, 122692032.000, 121824992.000, 125335064.000, 121332768.000, 126315272.000, 123785120.000, 126285672.000, 121830792.000, 126532224.000, 126449416.000, 124353336.000, 123090240.000, 121675896.000, 121619536.000, 123345256.000, 121796016.000, 123434464.000, 123931936.000, 122471920.000, 125198680.000, 121028744.000, 123351200.000, 124556024.000, 121593544.000, 126271656.000, 125161952.000, 123740240.000, 121993352.000, 121729416.000, 123225032.000, 122514416.000, 126148768.000, 123713336.000, 121910568.000, 125457912.000, 125194088.000, 124228120.000, 126318384.000, 123008912.000, 122985272.000, 121160488.000, 121128960.000, 122220496.000, 125651880.000, 125362680.000, 123803072.000, 124388080.000, 121590656.000, 121266672.000, 123287344.000, 123284376.000, 122821536.000, 123331888.000, 125006104.000, 121820648.000, 126380744.000, 123915440.000, 121213560.000, 121023024.000, 125058008.000, 121531488.000, 126432240.000, 122979368.000, 124572696.000, 121064520.000, 126167416.000, 122045696.000, 123704368.000, 125704328.000, 125238488.000, 121670112.000, 121616648.000, 121220728.000, 122977888.000, 121674448.000, 122216120.000, 121258056.000, 125905248.000, 123909440.000, 121101744.000, 121997712.000, 122639136.000, 123705864.000, 125823256.000, ;
];
% Marvin to beeblebrox
xmarvin = [
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
117758000.000, 85880104.000, 117762064.000, 117801352.000, 117483736.000, 117747168.000, 115071696.000, 117767480.000, 117741752.000, 117417728.000, 87443640.000, 117873216.000, 84533784.000, 117749872.000, 117560616.000, 117747168.000, 117821680.000, 117726856.000, 117679504.000, 117751224.000, ;
118291248.000, 88674896.000, 118146576.000, 86368312.000, 118104336.000, 118179304.000, 117618680.000, 118169752.000, 118317216.000, 85402368.000, 117869144.000, 118143848.000, 118024016.000, 117956040.000, 117934304.000, 118374664.000, 118217504.000, 117663280.000, 118414360.000, 86983112.000, ;
];
%%
% convert to MB/s
x = x ./ (1024*1024);

% plot raw
figure
subplot(211)
scatter(1:length(x),x(4,:));
hold on
grid on
scatter(1:length(x),x(5,:));

legend('select poll','loop','Location','southeast')
xlabel('run')
ylabel('MB/s')
title('Select vs Poll throughput')

% Stats
subplot(212)
boxplot(x(4:5,:)', 'orientation', 'vertical','ExtremeMode','compress')
hold on
grid on
xticklabels({'select','loop'})
xlabel('method')
ylabel('MB/s')
ylim([114 122])
title('statistics')

% boxplot(x(5,:), 'orientation', 'vertical')

return
%% For two
clear; close all; 

xmac = [
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
36893488147419103232.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 36893488147419103232.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 36893488147419103232.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
121781528.000, 121517064.000, 121932344.000, 121223600.000, 123701376.000, 126019912.000, 126547864.000, 123607304.000, 125181840.000, 126288784.000, 123300704.000, 126505648.000, 123961936.000, 125235424.000, 122674400.000, 121180560.000, 124850640.000, 122921792.000, 122655296.000, 126301248.000, 126013712.000, 122775888.000, 126040080.000, 121489672.000, 125920736.000, 121942504.000, 125266072.000, 122319776.000, 125602560.000, 122327080.000, 121100312.000, 125212456.000, 123827032.000, 125192560.000, 122273040.000, 124086616.000, 124984744.000, 122168008.000, 122287640.000, 125258408.000, 123704368.000, 123416616.000, 122678808.000, 125393384.000, 123550632.000, 126077320.000, 122026792.000, 124483344.000, 121117496.000, 121618088.000, 122115560.000, 123242824.000, 122351928.000, 125292120.000, 122637664.000, 122700856.000, 121517064.000, 121855440.000, 121153320.000, 124237168.000, 123601336.000, 122562808.000, 125985800.000, 126535352.000, 123833016.000, 123919936.000, 123143528.000, 121616648.000, 126284112.000, 121704816.000, 126646464.000, 124073088.000, 80121432.000, 124592400.000, 122404584.000, 126546296.000, 122318312.000, 123702872.000, 123807568.000, 122849536.000, 121065944.000, 124745696.000, 126516592.000, 123236896.000, 126304360.000, 124601496.000, 122548136.000, 125854184.000, 123210200.000, 122781776.000, 125039688.000, 122103904.000, 122665584.000, 125817072.000, 121260928.000, 124849120.000, 124783704.000, 124499992.000, 125161952.000, 125359616.000, ;
81592976.000, 124460648.000, 121569000.000, 122057336.000, 125948608.000, 124680384.000, 124474264.000, 121283904.000, 125447152.000, 124327672.000, 124262800.000, 124636376.000, 122016608.000, 125868112.000, 124871960.000, 126366712.000, 122692032.000, 121824992.000, 125335064.000, 121332768.000, 126315272.000, 123785120.000, 126285672.000, 121830792.000, 126532224.000, 126449416.000, 124353336.000, 123090240.000, 121675896.000, 121619536.000, 123345256.000, 121796016.000, 123434464.000, 123931936.000, 122471920.000, 125198680.000, 121028744.000, 123351200.000, 124556024.000, 121593544.000, 126271656.000, 125161952.000, 123740240.000, 121993352.000, 121729416.000, 123225032.000, 122514416.000, 126148768.000, 123713336.000, 121910568.000, 125457912.000, 125194088.000, 124228120.000, 126318384.000, 123008912.000, 122985272.000, 121160488.000, 121128960.000, 122220496.000, 125651880.000, 125362680.000, 123803072.000, 124388080.000, 121590656.000, 121266672.000, 123287344.000, 123284376.000, 122821536.000, 123331888.000, 125006104.000, 121820648.000, 126380744.000, 123915440.000, 121213560.000, 121023024.000, 125058008.000, 121531488.000, 126432240.000, 122979368.000, 124572696.000, 121064520.000, 126167416.000, 122045696.000, 123704368.000, 125704328.000, 125238488.000, 121670112.000, 121616648.000, 121220728.000, 122977888.000, 121674448.000, 122216120.000, 121258056.000, 125905248.000, 123909440.000, 121101744.000, 121997712.000, 122639136.000, 123705864.000, 125823256.000, ;
];

xlnx = [
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, ;
70319048.000, 70765640.000, 70571536.000, 70265968.000, 70661136.000, 71031200.000, 70516616.000, 70639688.000, 69843264.000, 69834688.000, 71423592.000, 71526864.000, 69898088.000, 71399184.000, 70071712.000, 69383744.000, 71099264.000, 70829760.000, 70426896.000, 70648952.000, 69810408.000, 71556848.000, 70783736.000, 71014456.000, 69817072.000, 69967816.000, 71506384.000, 71072616.000, 70765640.000, 70471488.000, 69682144.000, 71283376.000, 71469448.000, 70902344.000, 71683080.000, 71127408.000, 70505936.000, 70786672.000, 70893504.000, 71117040.000, 70601216.000, 69798032.000, 71027256.000, 71233792.000, 70057336.000, 70423992.000, 69788048.000, 71269488.000, 71053872.000, 71001648.000, 71686096.000, 70923456.000, 71264032.000, 71444520.000, 71034648.000, 71034160.000, 71714712.000, 70997216.000, 71102224.000, 71070144.000, 71013464.000, 71898496.000, 71069656.000, 71198624.000, 71774528.000, 70948032.000, 70452088.000, 69740520.000, 71142232.000, 69874720.000, 71082480.000, 71418112.000, 70122096.000, 69712504.000, 69874720.000, 69711552.000, 69621976.000, 70599264.000, 71221904.000, 71402176.000, 71952560.000, 71221904.000, 69846600.000, 70533616.000, 70991312.000, 70826328.000, 71203576.000, 70941144.000, 70120656.000, 69885208.000, 71026768.000, 71587864.000, 71203080.000, 71648472.000, 71125432.000, 70890072.000, 71662512.000, 71139768.000, 71252128.000, 70851816.000, ;
95991600.000, 94642184.000, 94378752.000, 94893016.000, 94121104.000, 95545560.000, 94836768.000, 95577664.000, 95682152.000, 94173912.000, 94939640.000, 94725352.000, 94785856.000, 95262904.000, 95718824.000, 94587976.000, 95558936.000, 94782344.000, 94119376.000, 94564392.000, 95293928.000, 95430696.000, 95157560.000, 95619616.000, 95539320.000, 94514640.000, 94928200.000, 95828112.000, 94566144.000, 94629064.000, 95625864.000, 95200024.000, 94133224.000, 94597592.000, 94867520.000, 95269992.000, 95321432.000, 95526840.000, 95231896.000, 95402248.000, 95477856.000, 95045384.000, 95026864.000, 95928656.000, 94948448.000, 94618568.000, 96191784.000, 94838528.000, 94664928.000, 94577496.000, 94835888.000, 95056856.000, 94531224.000, 94681560.000, 94845552.000, 94501560.000, 94676304.000, 95749256.000, 94652680.000, 94926440.000, 94858728.000, 94937000.000, 96132184.000, 94971344.000, 94468432.000, 94193832.000, 94123704.000, 96025808.000, 95564288.000, 95206216.000, 96026704.000, 95229240.000, 95244296.000, 96140304.000, 95656232.000, 96307584.000, 95764480.000, 96385544.000, 96656664.000, 95169056.000, 94264072.000, 96498168.000, 95414688.000, 95764480.000, 94992488.000, 94594096.000, 95155792.000, 94657056.000, 95667856.000, 96554584.000, 94070096.000, 94359616.000, 95300136.000, 94498072.000, 95550912.000, 94595840.000, 94348312.000, 97098424.000, 94233704.000, 94505048.000, ;
];
% convert to MB/s
xmac = xmac ./ (1024*1024);
xlnx = xlnx ./ (1024*1024);

% plot raw
figure
subplot(211)
scatter(1:length(xmac),xmac(4,:));
hold on
grid on
scatter(1:length(xmac),xmac(5,:));
scatter(1:length(xlnx),xlnx(4,:),'x');
scatter(1:length(xlnx),xlnx(5,:),'x');

legend('m select poll','m loop','l select poll','l loop','Location','southeast')
xlabel('run')
ylabel('MB/s')
title('Select vs Poll throughput')

% Stats
subplot(212)
boxplot([xmac(4:5,:)' xlnx(4:5,:)'], 'orientation', 'vertical','ExtremeMode','compress')
hold on
grid on
xticklabels({'m select','m loop','l select','l loop'})
xlabel('method')
ylabel('MB/s')
ylim([60 122])
title('statistics')

% boxplot(x(5,:), 'orientation', 'vertical')